{% extends 'base.html.twig' %}

{% block title %}Accueil | {{ parent() }}{% endblock %}
{% block content %}
	<div class="container-fluid ">
        <div class="container">
            <div class="row">
                <div class="col-12 text-center mt-0">
                    <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
                        <div class="carousel-inner">
                            <div class="carousel-item active">
                                <img src="/uploads/test.jpg" class="d-block w-100" alt="..." >
                            </div>
                            <div class="carousel-item">
                                <img src="/uploads/test2.jpg" class="d-block w-100" alt="..." >
                            </div>
                            <div class="carousel-item">
                                <img src="/uploads/test3.jpg" class="d-block w-100" alt="...">
                            </div>
                        </div>
                        <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="sr-only">Previous</span>
                        </a>
                        <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="sr-only">Next</span>
                        </a>
                    </div>
                </div>
            </div>
            <div class="row">
            {# boucle for afin d'afficher les articles #}
             {% for product in products %}
                <div class="col-12 col-sm-6 col-lg-3  text-center my-5">
                    <div class="card">
                    {# gestion de l'url : dossier uploads/table article col picture #}
                        <div class="image-carte">
                            <img src="{{ asset('uploads/' ~ product.image) }}" class="card-img-top" width="256" height="208" title="{{ product.nom }}" alt="image {{ product.nom  }}">
                        </div>
                        <div class="card-body">
                            <h5 class="card-title">{{ product.nom}}</h5>
                            {# date de publication que l'on met au format jj/mm/aa #}
                            <p class="card-text card-decription text-muted mb-0">{{product.description }}</p>                               
                            {# <h6 class="card-subtitle mb-2 text-muted text-right"></h6> #}
                            {# on retourne le chemin canonique absolu avec path de l'article et on ajoute l'id de l'article #}
                                <div  class="mb-2 text-muted text-bold">...</div>

                            <a href="{{path('details_product', {'id' : product.id})}}" class="btn btn-outline-dark p-2">Lire la suite...</a>
                        </div>
                    </div>
                </div>
            {% endfor %}
            </div>

        </div>
    </div>
{% endblock %}
